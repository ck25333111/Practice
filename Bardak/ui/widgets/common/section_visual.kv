<SectionVisual>:
    orientation: "vertical"
    size_hint_x: 1
    size_hint_y: None
    height: max(self.minimum_height, dp(60))
    padding: 15
    canvas.before:
        Color:
            rgba: app.colors("YELLOW", 1.2)  # Желтая рамка
        Line:
            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(0))

    Label:
        text: root.label
        size_hint_y: None
        height: dp(40)
        halign: "center"
        valign: "middle"
        text_size: self.width, None  # чтобы текст центрировался по ширине

    BoxLayout:
        id: empty_mode
        orientation: "vertical"
        size_hint_y: 1
        height: 1 if not root.cell_data else 0
        opacity: 1 if not root.cell_data else 0


#        Button:
#            text: "Разбить на ячейки"
#            size_hint: 1, None
#            height: dp(50)
#            on_release: app.dialog_service.open_cell_config_dialog(root)

    BoxLayout:
        id: cell_grid_container
        size_hint_y: None
        height: self.minimum_height
        opacity: 1 if root.cell_data else 0

