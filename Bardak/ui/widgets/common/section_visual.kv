<SectionVisual>:
    orientation: "vertical"
    size_hint_y: None
    height: self.minimum_height
    padding: dp(10)
    spacing: dp(10)

    Label:
        text: root.label
        size_hint_y: None
        height: self.texture_size[1]
        halign: "center"
        valign: "middle"
        text_size: self.width, None  # чтобы текст центрировался по ширине

    BoxLayout:
        id: empty_mode
        orientation: "vertical"
        size_hint_y: None
        height: dp(50) if not root.cell_data else 0
        opacity: 1 if not root.cell_data else 0

        Button:
            text: "Разбить на ячейки"
            size_hint: 1, None
            height: dp(50)
            on_release: app.dialog_service.open_cell_config_dialog(root)

    BoxLayout:
        id: cell_grid_container
        size_hint_y: None
        height: self.minimum_height
        opacity: 1 if root.cell_data else 0

        # Туда programmatically добавляется сетка ячеек из c
